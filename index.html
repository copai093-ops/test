<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>Math & Reasoning MCQ Test</title>

<style>
body{
  font-family: Arial;
  background:#e8f4f8;
  max-width:900px;
  margin:auto;
  padding:20px;
}
.q{
  background:#fff;
  padding:15px;
  margin:15px 0;
  border-radius:8px;
  display:none;
}
.q label{
  display:block;
  margin:6px 0;
  font-size:16px;
  cursor:pointer;
}
button{
  padding:12px 20px;
  font-size:16px;
  background:green;
  color:#fff;
  border:none;
  border-radius:6px;
  cursor:pointer;
  margin-top:10px;
  margin-right:10px;
}
#countdown{
  font-size:20px;
  font-weight:bold;
  color:#d9534f;
  text-align:right;
}
</style>
</head>

<body>

<h1 style="text-align:center;">Math & Reasoning MCQ Test</h1>

<!-- NAME -->
<div id="nameSection" style="text-align:center;margin-top:40px;">
  <input type="text" id="name" placeholder="Apna pura naam likho"
   style="width:80%;padding:10px;font-size:16px">
  <br><br>
  <button onclick="startTest()">Next</button>
</div>

<div id="countdown"></div>

<!-- TEST -->
<div id="testContent" style="display:none;">

<div class="q"><b>Q1.</b> √16 = ?
<label><input type="radio" name="q1" value="2">2</label>
<label><input type="radio" name="q1" value="3">3</label>
<label><input type="radio" name="q1" value="4">4</label>
<label><input type="radio" name="q1" value="5">5</label>
</div>

<div class="q"><b>Q2.</b> √25 = ?
<label><input type="radio" name="q2" value="3">3</label>
<label><input type="radio" name="q2" value="4">4</label>
<label><input type="radio" name="q2" value="5">5</label>
<label><input type="radio" name="q2" value="6">6</label>
</div>

<div class="q"><b>Q3.</b> √9 = ?
<label><input type="radio" name="q3" value="1">1</label>
<label><input type="radio" name="q3" value="2">2</label>
<label><input type="radio" name="q3" value="3">3</label>
<label><input type="radio" name="q3" value="4">4</label>
</div>

<div class="q"><b>Q4.</b> √4 = ?
<label><input type="radio" name="q4" value="1">1</label>
<label><input type="radio" name="q4" value="2">2</label>
<label><input type="radio" name="q4" value="3">3</label>
<label><input type="radio" name="q4" value="4">4</label>
</div>

<div class="q"><b>Q5.</b> √1 = ?
<label><input type="radio" name="q5" value="0">0</label>
<label><input type="radio" name="q5" value="1">1</label>
<label><input type="radio" name="q5" value="2">2</label>
<label><input type="radio" name="q5" value="3">3</label>
</div>

<div class="q">
  <b>Q6.</b> √2 = ?<br>
  <label><input type="radio" name="q6" value="1">1</label>
  <label><input type="radio" name="q6" value="2">2</label>
  <label><input type="radio" name="q6" value="3">3</label>
  <label><input type="radio" name="q6" value="4">4</label>
</div>

<!-- Q7 -->
<div class="q">
  <b>Q7.</b> √3 = ?<br>
  <label><input type="radio" name="q7" value="1">1</label>
  <label><input type="radio" name="q7" value="2">2</label>
  <label><input type="radio" name="q7" value="3">3</label>
  <label><input type="radio" name="q7" value="4">4</label>
</div>

<!-- Q8 -->
<div class="q">
  <b>Q8.</b> √5 = ?<br>
  <label><input type="radio" name="q8" value="1">1</label>
  <label><input type="radio" name="q8" value="2">2</label>
  <label><input type="radio" name="q8" value="3">3</label>
  <label><input type="radio" name="q8" value="4">4</label>
</div>

<!-- Q9 -->
<div class="q">
  <b>Q9.</b> √10 = ?<br>
  <label><input type="radio" name="q9" value="3">3</label>
  <label><input type="radio" name="q9" value="4">4</label>
  <label><input type="radio" name="q9" value="5">5</label>
  <label><input type="radio" name="q9" value="6">6</label>
</div>

<!-- Q10 -->
<div class="q">
  <b>Q10.</b> √20 = ?<br>
  <label><input type="radio" name="q10" value="4">4</label>
  <label><input type="radio" name="q10" value="5">5</label>
  <label><input type="radio" name="q10" value="6">6</label>
  <label><input type="radio" name="q10" value="7">7</label>
</div>

  <!-- Q11 -->
<div class="q">
  <b>Q11.</b> Ram, Shyam ka पिता है। Shyam, Geeta का भाई है। Ram का Geeta से क्या संबंध है?<br>
  <label><input type="radio" name="q11" value="पिता"> पिता</label>
  <label><input type="radio" name="q11" value="चाचा"> चाचा</label>
  <label><input type="radio" name="q11" value="मामा"> मामा</label>
  <label><input type="radio" name="q11" value="भाई"> भाई</label>
</div>

<!-- Q12 -->
<div class="q">
  <b>Q12.</b> Ravi, Sita का भाई है। Sita, Sunita की माँ है। Ravi का Sunita से क्या संबंध है?<br>
  <label><input type="radio" name="q12" value="मामा"> मामा</label>
  <label><input type="radio" name="q12" value="चाचा"> चाचा</label>
  <label><input type="radio" name="q12" value="भाई"> भाई</label>
  <label><input type="radio" name="q12" value="पिता"> पिता</label>
</div>

<!-- Q13 -->
<div class="q">
  <b>Q13.</b> A, B की माँ है। B, C का पिता है। A का C से क्या संबंध है?<br>
  <label><input type="radio" name="q13" value="दादी"> दादी</label>
  <label><input type="radio" name="q13" value="माँ"> माँ</label>
  <label><input type="radio" name="q13" value="चाची"> चाची</label>
  <label><input type="radio" name="q13" value="मामी"> मामी</label>
</div>

<!-- Q14 -->
<div class="q">
  <b>Q14.</b> Ramesh, Sunil का पिता है। Sunil, Priya का भाई है। Priya का Ramesh से क्या संबंध है?<br>
  <label><input type="radio" name="q14" value="माँ"> माँ</label>
  <label><input type="radio" name="q14" value="पिता"> पिता</label>
  <label><input type="radio" name="q14" value="चाचा"> चाचा</label>
  <label><input type="radio" name="q14" value="मामा"> मामा</label>
</div>

<!-- Q15 -->
<div class="q">
  <b>Q15.</b> Amit, Rahul का भाई है। Rahul, Anjali की माँ है। Amit का Anjali से क्या संबंध है?<br>
  <label><input type="radio" name="q15" value="चाचा"> चाचा</label>
  <label><input type="radio" name="q15" value="मामा"> मामा</label>
  <label><input type="radio" name="q15" value="भाई"> भाई</label>
  <label><input type="radio" name="q15" value="पिता"> पिता</label>
</div>



<div>
<button onclick="prevQuestion()">Previous</button>
<button onclick="nextQuestion()">Next / Submit</button>
</div>

</div>

<script>
document.addEventListener("DOMContentLoaded", function(){

const WEB_APP_URL ="https://script.google.com/macros/s/AKfycbwX2q18UcM1EGaN2oaA-bW3dSypidBPDqrT9nVyR5rkz6K7fJLT_HnJqqidpR86-VY8/exec";

const nameInput = document.getElementById("name");
const nameSection = document.getElementById("nameSection");
const testContent = document.getElementById("testContent");
const countdown = document.getElementById("countdown");
const qs = document.querySelectorAll(".q");

let qIndex = 0;
let timeLeft = 30 * 60;
let timer;

/* already submitted */
if(localStorage.getItem("testSubmitted")==="yes"){
  document.body.innerHTML =
  "<h2 style='text-align:center;color:red'>Test already submitted ❌</h2>";
}

window.startTest = function(){
  if(!nameInput.value.trim()){
    alert("Naam likho");
    return;
  }
  nameSection.style.display="none";
  testContent.style.display="block";
  showQ();

  timer = setInterval(()=>{
    countdown.innerText =
      `Time Left: ${Math.floor(timeLeft/60)}m ${timeLeft%60}s`;
    timeLeft--;
    if(timeLeft < 0) submit();
  },1000);
}

function showQ(){
  qs.forEach(q=>q.style.display="none");
  qs[qIndex].style.display="block";
}

window.nextQuestion = function(){
  if(qIndex < qs.length-1){
    qIndex++;
    showQ();
  }else{
    submit();
  }
}

window.prevQuestion = function(){
  if(qIndex > 0){
    qIndex--;
    showQ();
  }
}

function getAns(q){
  let a = document.querySelector(`input[name="${q}"]:checked`);
  return a ? a.value : "";
}

function submit(){
  clearInterval(timer);

  let data = { name: nameInput.value };
  for(let i=1;i<=qs.length;i++){
    data["q"+i] = getAns("q"+i);
  }

  fetch(WEB_APP_URL,{
    method:"POST",
    body: JSON.stringify(data),
    mode:"no-cors"
  });

  localStorage.setItem("testSubmitted","yes");

  document.body.innerHTML =
  "<h2 style='text-align:center;color:green'>Test Submitted Successfully ✅</h2>";
}

});
</script>

</body>
</html>
